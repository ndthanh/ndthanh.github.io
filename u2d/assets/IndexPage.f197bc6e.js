import{a8 as se,c as V,a9 as ie,a as c,h as d,aa as ye,g as W,r as B,E as de,t as ce,s as Fe,y as Se,K as qe,w as ke,d as xe,ab as we,ac as ze,ad as Ue,ae,af as Ce,Y as Be,a2 as le,ag as $e,O as Re,k as Pe,ah as Ee,U as re,a4 as Ne,X as je,V as Le,Z as Oe}from"./index.2e721bd4.js";import{b as Ie,u as ve,a as fe,h as oe}from"./format.2ed7be40.js";const De={...se,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},H=50,me=2*H,ge=me*Math.PI,Ae=Math.round(ge*1e3)/1e3;var Te=V({name:"QCircularProgress",props:{...De,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:i}){const{proxy:{$q:a}}=W(),g=ie(e),n=c(()=>{const u=(a.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(a.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-u}deg)`:`rotate3d(0, 0, 1, ${u-90}deg)`}}),_=c(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),b=c(()=>me/(1-e.thickness/2)),$=c(()=>`${b.value/2} ${b.value/2} ${b.value} ${b.value}`),w=c(()=>Ie(e.value,e.min,e.max)),S=c(()=>ge*(1-(w.value-e.min)/(e.max-e.min))),q=c(()=>e.thickness/2*b.value);function z({thickness:u,offset:t,color:o,cls:v,rounded:F}){return d("circle",{class:"q-circular-progress__"+v+(o!==void 0?` text-${o}`:""),style:_.value,fill:"transparent",stroke:"currentColor","stroke-width":u,"stroke-dasharray":Ae,"stroke-dashoffset":t,"stroke-linecap":F,cx:b.value,cy:b.value,r:H})}return()=>{const u=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&u.push(d("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:H-q.value/2,cx:b.value,cy:b.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&u.push(z({cls:"track",thickness:q.value,offset:0,color:e.trackColor})),u.push(z({cls:"circle",thickness:q.value,offset:S.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[d("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:$.value,"aria-hidden":"true"},u)];return e.showValue===!0&&t.push(d("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},i.default!==void 0?i.default():[d("div",w.value)])),d("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:g.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:w.value},ye(i.internal,t))}}});function Q(e,i,a,g){const n=[];return e.forEach(_=>{g(_)===!0?n.push(_):i.push({failedPropValidation:a,file:_})}),n}function K(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ce(e)}const Qe={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Me=["rejected"];function Ke({editable:e,dnd:i,getFileInput:a,addFilesToQueue:g}){const{props:n,emit:_,proxy:b}=W(),$=B(null),w=c(()=>n.accept!==void 0?n.accept.split(",").map(r=>(r=r.trim(),r==="*"?"*/":(r.endsWith("/*")&&(r=r.slice(0,r.length-1)),r.toUpperCase()))):null),S=c(()=>parseInt(n.maxFiles,10)),q=c(()=>parseInt(n.maxTotalSize,10));function z(r){if(e.value)if(r!==Object(r)&&(r={target:null}),r.target!==null&&r.target.matches('input[type="file"]')===!0)r.clientX===0&&r.clientY===0&&de(r);else{const U=a();U&&U!==r.target&&U.click(r)}}function u(r){e.value&&r&&g(null,r)}function t(r,U,j,L){let s=Array.from(U||r.target.files);const k=[],R=()=>{k.length>0&&_("rejected",k)};if(n.accept!==void 0&&w.value.indexOf("*/")===-1&&(s=Q(s,k,"accept",p=>w.value.some(y=>p.type.toUpperCase().startsWith(y)||p.name.toUpperCase().endsWith(y))),s.length===0))return R();if(n.maxFileSize!==void 0){const p=parseInt(n.maxFileSize,10);if(s=Q(s,k,"max-file-size",y=>y.size<=p),s.length===0)return R()}if(n.multiple!==!0&&s.length>0&&(s=[s[0]]),s.forEach(p=>{p.__key=p.webkitRelativePath+p.lastModified+p.name+p.size}),L===!0){const p=j.map(y=>y.__key);s=Q(s,k,"duplicate",y=>p.includes(y.__key)===!1)}if(s.length===0)return R();if(n.maxTotalSize!==void 0){let p=L===!0?j.reduce((y,O)=>y+O.size,0):0;if(s=Q(s,k,"max-total-size",y=>(p+=y.size,p<=q.value)),s.length===0)return R()}if(typeof n.filter=="function"){const p=n.filter(s);s=Q(s,k,"filter",y=>p.includes(y))}if(n.maxFiles!==void 0){let p=L===!0?j.length:0;if(s=Q(s,k,"max-files",()=>(p++,p<=S.value)),s.length===0)return R()}if(R(),s.length>0)return s}function o(r){K(r),i.value!==!0&&(i.value=!0)}function v(r){ce(r),(r.relatedTarget!==null||Fe.is.safari!==!0?r.relatedTarget!==$.value:document.elementsFromPoint(r.clientX,r.clientY).includes($.value)===!1)===!0&&(i.value=!1)}function F(r){K(r);const U=r.dataTransfer.files;U.length>0&&g(null,U),i.value=!1}function h(r){if(i.value===!0)return d("div",{ref:$,class:`q-${r}__dnd absolute-full`,onDragenter:K,onDragover:K,onDragleave:v,onDrop:F})}return Object.assign(b,{pickFiles:z,addFiles:u}),{pickFiles:z,addFiles:u,onDragover:o,onDragleave:v,processFiles:t,getDndNode:h,maxFilesNumber:S,maxTotalSizeNumber:q}}function ne(e){return(e*100).toFixed(2)+"%"}const We={...ve,...Qe,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},pe=[...Me,"start","finish","added","removed"];function Xe(e){const i=W(),{props:a,slots:g,emit:n,proxy:_}=i,{$q:b}=_,$=fe(a,b);function w(l,m,x){if(l.__status=m,m==="idle"){l.__uploaded=0,l.__progress=0,l.__sizeLabel=oe(l.size),l.__progressLabel="0.00%";return}if(m==="failed"){_.$forceUpdate();return}l.__uploaded=m==="uploaded"?l.size:x,l.__progress=m==="uploaded"?1:Math.min(.9999,l.__uploaded/l.size),l.__progressLabel=ne(l.__progress),_.$forceUpdate()}const S=c(()=>a.disable!==!0&&a.readonly!==!0),q=B(!1),z=B(null),u=B(null),t={files:B([]),queuedFiles:B([]),uploadedFiles:B([]),uploadedSize:B(0),updateFileStatus:w,isAlive:()=>Se(i)===!1},{pickFiles:o,addFiles:v,onDragover:F,onDragleave:h,processFiles:r,getDndNode:U,maxFilesNumber:j,maxTotalSizeNumber:L}=Ke({editable:S,dnd:q,getFileInput:G,addFilesToQueue:J});Object.assign(t,e({props:a,slots:g,emit:n,helpers:t})),t.isBusy===void 0&&(t.isBusy=B(!1));const s=B(0),k=c(()=>s.value===0?0:t.uploadedSize.value/s.value),R=c(()=>ne(k.value)),p=c(()=>oe(s.value)),y=c(()=>S.value===!0&&t.isUploading.value!==!0&&(a.multiple===!0||t.queuedFiles.value.length===0)&&(a.maxFiles===void 0||t.files.value.length<j.value)&&(a.maxTotalSize===void 0||s.value<L.value)),O=c(()=>S.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length>0);qe(Ce,ee);const f=c(()=>"q-uploader column no-wrap"+($.value===!0?" q-uploader--dark q-dark":"")+(a.bordered===!0?" q-uploader--bordered":"")+(a.square===!0?" q-uploader--square no-border-radius":"")+(a.flat===!0?" q-uploader--flat no-shadow":"")+(a.disable===!0?" disabled q-uploader--disable":"")+(q.value===!0?" q-uploader--dnd":"")),I=c(()=>"q-uploader__header"+(a.color!==void 0?` bg-${a.color}`:"")+(a.textColor!==void 0?` text-${a.textColor}`:""));ke(t.isUploading,(l,m)=>{m===!1&&l===!0?n("start"):m===!0&&l===!1&&n("finish")});function A(){a.disable===!1&&(t.abort(),t.uploadedSize.value=0,s.value=0,Z(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function T(){a.disable===!1&&X(["uploaded"],()=>{t.uploadedFiles.value=[]})}function P(){X(["idle","failed"],({size:l})=>{s.value-=l,t.queuedFiles.value=[]})}function X(l,m){if(a.disable===!0)return;const x={files:[],size:0},E=t.files.value.filter(C=>l.indexOf(C.__status)===-1?!0:(x.size+=C.size,x.files.push(C),C.__img!==void 0&&window.URL.revokeObjectURL(C.__img.src),!1));x.files.length>0&&(t.files.value=E,m(x),n("removed",x.files))}function Y(l){a.disable||(l.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(m=>m.__key!==l.__key):l.__status==="uploading"?l.__abort():s.value-=l.size,t.files.value=t.files.value.filter(m=>m.__key!==l.__key?!0:(m.__img!==void 0&&window.URL.revokeObjectURL(m.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(m=>m.__key!==l.__key),n("removed",[l]))}function Z(){t.files.value.forEach(l=>{l.__img!==void 0&&window.URL.revokeObjectURL(l.__img.src)})}function G(){return u.value||z.value.getElementsByClassName("q-uploader__input")[0]}function J(l,m){const x=r(l,m,t.files.value,!0),E=G();E!=null&&(E.value=""),x!==void 0&&(x.forEach(C=>{if(t.updateFileStatus(C,"idle"),s.value+=C.size,a.noThumbnails!==!0&&C.type.toUpperCase().startsWith("IMAGE")){const te=new Image;te.src=window.URL.createObjectURL(C),C.__img=te}}),t.files.value=t.files.value.concat(x),t.queuedFiles.value=t.queuedFiles.value.concat(x),n("added",x),a.autoUpload===!0&&t.upload())}function _e(){O.value===!0&&t.upload()}function M(l,m,x){if(l===!0){const E={type:"a",key:m,icon:b.iconSet.uploader[m],flat:!0,dense:!0};let C;return m==="add"?(E.onClick=o,C=ee):E.onClick=x,d(le,E,C)}}function ee(){return d("input",{ref:u,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:a.accept,multiple:a.multiple===!0?"multiple":void 0,capture:a.capture,onMousedown:de,onClick:o,onChange:J})}function he(){return g.header!==void 0?g.header(D):[d("div",{class:"q-uploader__header-content column"},[d("div",{class:"flex flex-center no-wrap q-gutter-xs"},[M(t.queuedFiles.value.length>0,"removeQueue",P),M(t.uploadedFiles.value.length>0,"removeUploaded",T),t.isUploading.value===!0?d(ae,{class:"q-uploader__spinner"}):null,d("div",{class:"col column justify-center"},[a.label!==void 0?d("div",{class:"q-uploader__title"},[a.label]):null,d("div",{class:"q-uploader__subtitle"},[p.value+" / "+R.value])]),M(y.value,"add"),M(a.hideUploadBtn===!1&&O.value===!0,"upload",t.upload),M(t.isUploading.value,"clear",t.abort)])])]}function be(){return g.list!==void 0?g.list(D):t.files.value.map(l=>d("div",{key:l.__key,class:"q-uploader__file relative-position"+(a.noThumbnails!==!0&&l.__img!==void 0?" q-uploader__file--img":"")+(l.__status==="failed"?" q-uploader__file--failed":l.__status==="uploaded"?" q-uploader__file--uploaded":""),style:a.noThumbnails!==!0&&l.__img!==void 0?{backgroundImage:'url("'+l.__img.src+'")'}:null},[d("div",{class:"q-uploader__file-header row flex-center no-wrap"},[l.__status==="failed"?d(Be,{class:"q-uploader__file-status",name:b.iconSet.type.negative,color:"negative"}):null,d("div",{class:"q-uploader__file-header-content col"},[d("div",{class:"q-uploader__title"},[l.name]),d("div",{class:"q-uploader__subtitle row items-center no-wrap"},[l.__sizeLabel+" / "+l.__progressLabel])]),l.__status==="uploading"?d(Te,{value:l.__progress,min:0,max:1,indeterminate:l.__progress===0}):d(le,{round:!0,dense:!0,flat:!0,icon:b.iconSet.uploader[l.__status==="uploaded"?"done":"clear"],onClick:()=>{Y(l)}})])]))}xe(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length>0&&Z()});const D={};for(const l in t)we(t[l])===!0?ze(D,l,()=>t[l].value):D[l]=t[l];return Object.assign(D,{upload:_e,reset:A,removeUploadedFiles:T,removeQueuedFiles:P,removeFile:Y,pickFiles:o,addFiles:v}),Ue(D,{canAddFiles:()=>y.value,canUpload:()=>O.value,uploadSizeLabel:()=>p.value,uploadProgressLabel:()=>R.value}),Object.assign(_,D),()=>{const l=[d("div",{class:I.value},he()),d("div",{class:"q-uploader__list scroll"},be()),U("uploader")];t.isBusy.value===!0&&l.push(d("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[d(ae)]));const m={ref:z,class:f.value};return y.value===!0&&Object.assign(m,{onDragover:F,onDragleave:h}),d("div",m,l)}}const He=()=>!0;function Ve(e){const i={};return e.forEach(a=>{i[a]=He}),i}const Ye=Ve(pe);var Ze=({name:e,props:i,emits:a,injectPlugin:g})=>V({name:e,props:{...We,...i},emits:$e(a)===!0?{...Ye,...a}:[...pe,...a],setup(){return Xe(g)}});function N(e){return typeof e=="function"?e:()=>e}const Ge={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Je=["factory-failed","uploaded","failed","uploading"];function et({props:e,emit:i,helpers:a}){const g=B([]),n=B([]),_=B(0),b=c(()=>({url:N(e.url),method:N(e.method),headers:N(e.headers),formFields:N(e.formFields),fieldName:N(e.fieldName),withCredentials:N(e.withCredentials),sendRaw:N(e.sendRaw),batch:N(e.batch)})),$=c(()=>_.value>0),w=c(()=>n.value.length>0);let S;function q(){g.value.forEach(o=>{o.abort()}),n.value.length>0&&(S=!0)}function z(){const o=a.queuedFiles.value.slice(0);a.queuedFiles.value=[],b.value.batch(o)?u(o):o.forEach(v=>{u([v])})}function u(o){if(_.value++,typeof e.factory!="function"){t(o,{});return}const v=e.factory(o);if(!v)i("factory-failed",new Error("QUploader: factory() does not return properly"),o),_.value--;else if(typeof v.catch=="function"&&typeof v.then=="function"){n.value.push(v);const F=h=>{a.isAlive()===!0&&(n.value=n.value.filter(r=>r!==v),n.value.length===0&&(S=!1),a.queuedFiles.value=a.queuedFiles.value.concat(o),o.forEach(r=>{a.updateFileStatus(r,"failed")}),i("factory-failed",h,o),_.value--)};v.then(h=>{S===!0?F(new Error("Aborted")):a.isAlive()===!0&&(n.value=n.value.filter(r=>r!==v),t(o,h))}).catch(F)}else t(o,v||{})}function t(o,v){const F=new FormData,h=new XMLHttpRequest,r=(f,I)=>v[f]!==void 0?N(v[f])(I):b.value[f](I),U=r("url",o);if(!U){console.error("q-uploader: invalid or no URL specified"),_.value--;return}const j=r("formFields",o);j!==void 0&&j.forEach(f=>{F.append(f.name,f.value)});let L=0,s=0,k=0,R=0,p;h.upload.addEventListener("progress",f=>{if(p===!0)return;const I=Math.min(R,f.loaded);a.uploadedSize.value+=I-k,k=I;let A=k-s;for(let T=L;A>0&&T<o.length;T++){const P=o[T];if(A>P.size)A-=P.size,L++,s+=P.size,a.updateFileStatus(P,"uploading",P.size);else{a.updateFileStatus(P,"uploading",A);return}}},!1),h.onreadystatechange=()=>{h.readyState<4||(h.status&&h.status<400?(a.uploadedFiles.value=a.uploadedFiles.value.concat(o),o.forEach(f=>{a.updateFileStatus(f,"uploaded")}),i("uploaded",{files:o,xhr:h})):(p=!0,a.uploadedSize.value-=k,a.queuedFiles.value=a.queuedFiles.value.concat(o),o.forEach(f=>{a.updateFileStatus(f,"failed")}),i("failed",{files:o,xhr:h})),_.value--,g.value=g.value.filter(f=>f!==h))},h.open(r("method",o),U),r("withCredentials",o)===!0&&(h.withCredentials=!0);const y=r("headers",o);y!==void 0&&y.forEach(f=>{h.setRequestHeader(f.name,f.value)});const O=r("sendRaw",o);o.forEach(f=>{a.updateFileStatus(f,"uploading",0),O!==!0&&F.append(r("fieldName",f),f,f.name),f.xhr=h,f.__abort=()=>{h.abort()},R+=f.size}),i("uploading",{files:o,xhr:h}),g.value.push(h),O===!0?h.send(new Blob(o)):h.send(F)}return{isUploading:$,isBusy:w,abort:q,upload:z}}var tt={name:"QUploader",props:Ge,emits:Je,injectPlugin:et},at=Ze(tt);const lt={xs:2,sm:4,md:6,lg:10,xl:14};function ue(e,i,a){return{transform:i===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var rt=V({name:"QLinearProgress",props:{...ve,...se,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:i}){const{proxy:a}=W(),g=fe(e,a.$q),n=ie(e,lt),_=c(()=>e.indeterminate===!0||e.query===!0),b=c(()=>e.reverse!==e.query),$=c(()=>({...n.value!==null?n.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),w=c(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),S=c(()=>ue(e.buffer!==void 0?e.buffer:1,b.value,a.$q)),q=c(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${g.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),z=c(()=>ue(_.value===!0?1:e.value,b.value,a.$q)),u=c(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${_.value===!0?"in":""}determinate`),t=c(()=>({width:`${e.value*100}%`})),o=c(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const v=[d("div",{class:q.value,style:S.value}),d("div",{class:u.value,style:z.value})];return e.stripe===!0&&_.value===!1&&v.push(d("div",{class:o.value,style:t.value})),d("div",{class:w.value,style:$.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Re(i.default,v))}}});function ot(){return Pe(Ee)}const nt={class:"q-pa-md"},it={__name:"IndexPage",setup(e){const i=B(!1),a=ot();function g(u,t,o){a.notify({type:u,message:t,position:o})}async function n(u){const t=await _(u[0]),o=JSON.stringify({data:t.replace(/^.*,/,""),mimetype:t.match(/^.*(?=;)/)[0],filename:u[0].name});var v={method:"POST",body:o,redirect:"follow"};fetch("https://script.google.com/macros/s/AKfycbxSkvI0ZxItiZvZcSOp7djSiQ3SuFoVLRExfcd6TzvaYKGHK2Q3E-QbIKRa6bUeEzgg/exec",v).then(F=>F.text()).then(F=>{console.log(F),g("positive","upload successfully","top")}).catch(F=>console.log("error",F)).finally(()=>{i.value=!1})}async function _(u){return new Promise((t,o)=>{const v=new FileReader;v.onerror=o,v.onload=()=>{t(v.result)},v.readAsDataURL(u)})}function b(u){this.$q.notify({type:"negative",message:`${u.length} file(s) did not pass validation constraints`})}function $(){i.value=!0,g("positive","upload started ...","top")}function w(){g("positive","upload finished ...","top")}function S(u){g("positive","file added","top"),console.log(u)}function q(u){console.log("onUploading",u)}function z(u){console.log("onUploaded",u)}return(u,t)=>(re(),Ne("div",nt,[je(at,{style:{"max-width":"300px"},label:"Main Image",factory:n,"max-files":"1",accept:".jpg, image/*",onRejected:b,onStart:$,onFinish:w,onAdded:S,onUploading:q,onUploaded:z}),i.value?(re(),Le(rt,{key:0,style:{"max-width":"300px"},indeterminate:""})):Oe("",!0)]))}};export{it as default};
